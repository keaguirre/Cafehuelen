
        <div class="container w-fit " [hidden]="!mostrarFormPrep">
            <h1 class="text-xl font-bold pb-10  text-center">Agregar Preparaciones</h1>
            <form [formGroup]="formPreparaciones" (ngSubmit)="onCreate('createPrep')">
                <div class="form-control">
                    <label class="label">
                    </label>
                    <label class="input-group input-group-vertical">
                        <span>Nombre preparacion</span>
                        <input (keyup)="passToLower(formPreparaciones, 'nombre_prep')" formControlName="nombre_prep" type="text"
                            placeholder="Ingrese un nombre" class="input input-bordered input-accent	" />
                    </label>
                </div>
                <div class="form-control">
                    <label class="label">
                    </label>
                    <label class="input-group input-group-vertical">
                        <span>Descripcion de la preparacion</span>
                        <input (keyup)="passToLower(formPreparaciones, 'descripcion_prep')" formControlName="descripcion_prep" type="text"
                            placeholder="Ingrese una descripcion"
                            class="input input-bordered" />
                    </label>
                </div>
                <div class="form-control">
                    <label class="label">
                    </label>
                    <label class="input-group input-group-vertical">
                        <span>Precio</span>
                        <input min="1" (keypress)="numberOnlyValidation($event)"formControlName="precio_prep" type="text"
                            placeholder="Ingrese el precio" class="input input-bordered">
                    </label>
                </div>
                <div class="form-control">
                    <select name="listCat-Preparaciones" formControlName="id_cat_prep" 
                        required class=" mt-5 select select-bordered input-group-vertical">
                        <option disabled selected>Seleccione una categoria</option>
                        <option *ngFor="let categoria of responseListadoCategorias"
                            value="{{ categoria.id_cat }}">{{ categoria.nombre_cat | titlecase}}</option>
                    </select>
                </div>
                <div class="form-control">
                    <label class="label">
                    </label>
                    <label
                        class="input-group input-group-vertical"><!--FALTA UNA FUNCION QUE VALIDE LA URL-->
                        <span>Link imagen</span>
                        <input pattern="(((ftp|http|https):\/\/)|(\/)|(..\/))(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?" 
                            formControlName="imagen_prep" type="text"
                            placeholder="enlace" class="input input-bordered" readonly />
                    </label>
                </div>
                <button type="button" class="btn" (click)="limpiarCampos()">Limpiar</button>
                <div class="form-control">
                    <label class="label">
                    </label>
                    <label
                        class="input-group input-group-vertical"><!--FALTA UNA FUNCION QUE VALIDE LA URL-->
                        <span>Imagen</span>
                        <input  type="file"  (change)="onImagenSelecta($event)" class="file-input file-input-bordered w-full" #imagenInput />
                    </label>
                </div>
                <button class="mt-4 btn w-full max-w-auto" type="submit" >Siguiente</button>
            </form>
        </div>
        <!--Fin formulario agregar Preparacion-->
        <!--Tabla de detallePrep-->
        <div class="container pt-10 w-fit" [hidden]="!mostrarFormDp">
            <h1 class="text-xl text-VerdeHuelen font-bold text-center">Detalle Preparacion</h1>
            <table class="block table table-zebra border-4 mx-auto w-fit  ">
                <thead class="text-lg text-VerdeHuelen font-bold  text-center">
                    <tr class="text-center text-xl ">
                        <th>ID Preparación</th>
                        <th>ID ingrediente</th>
                        <th>Cantidad Necesaria</th>
                        <th>Tipo Unidad</th>
                        
                    </tr>   
                </thead><!-- head -->
                <tbody><!-- body -->
                    <tr class="text-center" *ngFor="let formDepPrep of getObjItems() | paginate:{itemsPerPage:5,currentPage:pagesDetallePrep,id:'sessPrep'}">
                        <td>{{''+ formDepPrep.detallePrep.id_prep | titlecase}}</td>
                        <td>{{''+formDepPrep.detallePrep.id_ingre }}</td>
                        <td>{{ formDepPrep.detallePrep.cantidad_necesaria }}</td>
                        <td>{{ formDepPrep.detallePrep.tipo_unidad }}</td>
                        <td>
                            <button class="mt-4 btn max-w-auto btn-error" (click)="botonEliminarItem(formDepPrep)"></button>
                        </td>
                    </tr>
                </tbody>
                <tfoot><!-- foot -->
                    <tr>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th class=" sm:w-1/4 md:w-1/2 lg:w-1/3 last:text-center"><pagination-controls 
                            id="sessPrep" 
                            screenReaderPaginationLabel="Paginación"
                            screenReaderPageLabel="página"
                            screenReaderCurrentLabel="Estás en esta pagina" 
                            (pageBoundsCorrection)="pagesPrep=$event" 
                            (pageChange)="pagesPrep=$event" 
                            previousLabel="" 
                            nextLabel="" 
                            [autoHide]="true"
                            [responsive]="true"
                            [maxSize]="5"
                            class=" font-bold text-sm pb-1 pt-5 items-center "></pagination-controls>
                        </th>
                        
                    </tr>
                </tfoot>
            </table>
        </div>
         <!--FIN Tabla de detallePrep session Storage-->
        <!--Formulario agregar Detalle Preparacion-->
        <div class="container pt-20 w-fit" [hidden]="!mostrarFormDp" >
            <h1 class="text-xl font-bold text-white text-center">Agregar Detalle Preparación</h1>
            <form [formGroup]="formDetallePrep" (ngSubmit)="onCreate('createDetallePrep')">
                <div class="form-control pt-4">
                    <label class=" input-group input-group-vertical w-full max-w-auto">
                        <span>Preparación</span>
                        <input type="text" readOnly formControlName="id_prep"  class="select select-bordered w-full max-w-auto" required>
                    </label>
                </div>
                <div class="form-control pt-4">
                    <label class=" input-group input-group-vertical w-full max-w-auto">
                        <span>Seleccione un ingrediente</span>
                        <select formControlName="id_ingre" formname="listIngred-DetallePrep"
                            required class="select select-bordered w-full max-w-auto">
                            <option value="{{ingrediente.id_ingre}}"
                                *ngFor="let ingrediente of responseListadoIngrediente">
                                {{ingrediente.nombre_ingre | titlecase}}</option>
                        </select>
                    </label>
                </div>
                <div class="form-control pt-4 ">
                    <label class="input-group input-group-vertical w-full max-w-auto">
                        <span>Cantidad necesaria del ingrediente</span>
                        <input min="1" formControlName="cantidad_necesaria" type="number"
                            placeholder="Ingrese la cantidad" class=" input input-bordered"
                            (keypress)="numberOnlyValidation($event)" />
                    </label>
                </div>
                <div class="form-control pt-4">
                    <label class=" input-group input-group-vertical w-full max-w-auto">
                        <span>Seleccione unidad de medida</span>
                        <select formControlName="tipo_unidad" name="mlgr" required
                            class=" select select-bordered w-full max-w-auto">
                            <option disabled selected>ML o GR</option>
                            <option value="ml">(Ml) Mililitro</option>
                            <option value="gr">(Gr) Gramos</option>
                        </select>
                    </label>
                </div>
                <button class=" mt-4 btn w-full max-w-auto btn-success" type="submit" >+</button>
                
            </form>
    
            <div class="">
                <button class="mt-4 btn w-full max-w-auto btn-error" (click)="botonClearSession()">Borrar todo </button>
                
            </div>
            <div>
                <button for="my-modal" class="mt-4 btn w-full max-w-auto btn-warning" (click)="sendDetallePrep()"> Agregar</button>
            </div>    
    </div>
        
    